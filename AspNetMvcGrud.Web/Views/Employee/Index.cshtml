@using AspNetMvcGrud.Domain.Filter;
@using AspNetMvcGrud.Domain;

@{
    EmployeeFilter filter = new EmployeeFilter();
}

@model IEnumerable<Employee>
@{
    ViewData["Title"] = "Index";    
}


<div class="container p-3">
    <div class="row pt-4">
        <div class="col-6">
            <h2 class="text-primary">Employee List</h2>
		</div>
        <div class="col-6 text-end">
            <a asp-controller="Employee" asp-action="Create" class="btn btn-primary">
               <i class="bi bi-plus-circle"></i> &nbsp; Create New Employee
			</a>
		</div>
	</div>
    <br /><br />
        <form method="post" enctype="multipart/form-data" asp-controller="Employee" asp-action="Index">
            <table class="table table-bordered table-striped" style="width:100%">
                <thead>
                    <tr>
                        <td align="right" valign="middle">
                            <label asp-for=@filter.Name></label>
                        </td>
                        <td align="right" valign="middle">
                            <input asp-for="@filter.Search" class="form-control" />
                        </td>
                        <td align="right" valign="middle">
                            <label asp-for="@filter.ContactNumber"></label>
                        </td>
                        <td align="right" valign="middle">
                            <input asp-for="@filter.ContactNumber" class=" form-control" />
                        </td>
                  </tr>

                </thead>
            </table>

        <table class="table table-borderless" style="width:100%">
            <thead>
                <tr>
                    <td align="center" valign="middle"><input type="submit" value="Submit" /></td>
                </tr>
            </thead>
        </table>
        <hr />
    </form>

<table class="table table-bordered table-striped" style="width:100%">
    <thead>
        <tr>
            <th>
                    <a asp-action="SortIndex" asp-route-sortOrder="@ViewData["NameSortParm"]">@Html.DisplayNameFor(model => model.Name)</a>
                </th>            
            <th>
                    <a asp-action="SortIndex" asp-route-sortOrder="@ViewData["GenderSortParm"]">@Html.DisplayNameFor(model => model.Gender)</a>
                </th>
                <th>
                    <a asp-action="SortIndex" asp-route-sortOrder="@ViewData["DOBSortParm"]">@Html.DisplayNameFor(model => model.DateOfBirth)</a>
                </th>
                <th>
                    <a asp-action="SortIndex" asp-route-sortOrder="@ViewData["DOJSortParm"]">@Html.DisplayNameFor(model => model.JoinedDate)</a>
                </th>
                <th>
                    Address
                </th>
                <th>
                    <a asp-action="SortIndex" asp-route-sortOrder="@ViewData["ContactNumberSortParm"]">@Html.DisplayNameFor(model => model.ContactNumber)</a>
                </th>
                
            </tr>
	</thead>
    <tbody>
        @foreach(var obj in Model)
        {
            <tr>
                <td width="20%">
                    @obj.Name
				</td>
                <td width="5%">
                     @obj.Gender
                </td>
                <td width="15%">
                    @obj.DateOfBirth
                </td>
                <td width="15%">
                    @obj.JoinedDate
                </td>
                <td width="20%">
                    @obj.Address
                </td>
                <td width="18%">
                    @obj.ContactNumber
				</td>
                
                    <td>
                    <div class="w-75 btn-group" role="group">
                        <a asp-controller="Employee" asp-action="Edit" asp-route-id="@obj.ID"
                        class="btn btn-primary mx-2"> <i class="bi bi-pencil-square"></i> Edit</a>
                        <a asp-controller="Employee" asp-action="Delete" asp-route-id="@obj.ID"
                        class="btn btn-danger mx-2"> <i class="bi bi-trash-fill"></i> Delete</a>
					</div>
				</td>
			</tr>
        }
    </tbody>

</table>
</div>